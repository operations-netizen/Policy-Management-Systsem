// ../frontend/vite.config.js
import tailwindcss from "file:///D:/Jan2026-Project/Freelance-Management-2/Freelance-Management-2/frontend/node_modules/@tailwindcss/vite/dist/index.mjs";
import react from "file:///D:/Jan2026-Project/Freelance-Management-2/Freelance-Management-2/frontend/node_modules/@vitejs/plugin-react/dist/index.js";
import path from "path";
import { fileURLToPath } from "url";
import { defineConfig, loadEnv } from "file:///D:/Jan2026-Project/Freelance-Management-2/Freelance-Management-2/frontend/node_modules/vite/dist/node/index.js";
import { vitePluginManusRuntime } from "file:///D:/Jan2026-Project/Freelance-Management-2/Freelance-Management-2/frontend/node_modules/vite-plugin-manus-runtime/dist/index.js";
var __vite_injected_original_import_meta_url = "file:///D:/Jan2026-Project/Freelance-Management-2/Freelance-Management-2/frontend/vite.config.js";
var __dirname = path.dirname(fileURLToPath(__vite_injected_original_import_meta_url));
var plugins = [react(), tailwindcss(), vitePluginManusRuntime()];
var cacheDir = (() => {
  const base = process.env.LOCALAPPDATA || process.env.TEMP;
  if (base) {
    return path.resolve(base, "freelance-management-vite-cache");
  }
  return path.resolve(__dirname, "vite-cache");
})();
var vite_config_default = defineConfig(({ mode }) => {
  const env = loadEnv(mode, __dirname, "");
  const backendEnv = loadEnv(mode, path.resolve(__dirname, "..", "backend"), "");
  const backendUrl = backendEnv.BACKEND_URL || (backendEnv.PORT ? `http://localhost:${backendEnv.PORT}` : "");
  const normalizeApiTarget = (value) => {
    try {
      const url = new URL(value);
      if (url.hostname === "localhost") {
        url.hostname = "127.0.0.1";
      }
      return url.toString().replace(/\/$/, "");
    } catch {
      return value;
    }
  };
  const apiTarget = normalizeApiTarget(env.VITE_API_URL || backendUrl || "http://localhost:3000");
  if (mode === "development") {
    console.log(`[Vite] API proxy target: ${apiTarget}`);
  }
  return {
    plugins,
    cacheDir,
    optimizeDeps: {
      holdUntilCrawlEnd: false
    },
    resolve: {
      alias: {
        "@": path.resolve(__dirname, "src"),
        "@shared": path.resolve(__dirname, "..", "backend", "shared"),
        "@assets": path.resolve(__dirname, "public")
      }
    },
    envDir: path.resolve(__dirname),
    root: path.resolve(__dirname),
    publicDir: path.resolve(__dirname, "public"),
    build: {
      outDir: path.resolve(__dirname, "dist"),
      emptyOutDir: true
    },
    server: {
      host: true,
      allowedHosts: [
        ".manuspre.computer",
        ".manus.computer",
        ".manus-asia.computer",
        ".manuscomputer.ai",
        ".manusvm.computer",
        "localhost",
        "127.0.0.1"
      ],
      proxy: {
        "/api": {
          target: apiTarget,
          changeOrigin: true
        }
      },
      fs: {
        strict: true,
        allow: [
          path.resolve(__dirname),
          path.resolve(__dirname, "..", "backend", "shared"),
          cacheDir
        ],
        deny: ["**/.env", "**/.env.*", "**/*.pem", "**/*.crt"]
      }
    }
  };
});
export {
  vite_config_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vZnJvbnRlbmQvdml0ZS5jb25maWcuanMiXSwKICAic291cmNlUm9vdCI6ICJmaWxlOi8vL0Q6L0phbjIwMjYtUHJvamVjdC9GcmVlbGFuY2UtTWFuYWdlbWVudC0yL0ZyZWVsYW5jZS1NYW5hZ2VtZW50LTIvZnJvbnRlbmQvIiwKICAic291cmNlc0NvbnRlbnQiOiBbImNvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9kaXJuYW1lID0gXCJEOlxcXFxKYW4yMDI2LVByb2plY3RcXFxcRnJlZWxhbmNlLU1hbmFnZW1lbnQtMlxcXFxGcmVlbGFuY2UtTWFuYWdlbWVudC0yXFxcXGZyb250ZW5kXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ZpbGVuYW1lID0gXCJEOlxcXFxKYW4yMDI2LVByb2plY3RcXFxcRnJlZWxhbmNlLU1hbmFnZW1lbnQtMlxcXFxGcmVlbGFuY2UtTWFuYWdlbWVudC0yXFxcXGZyb250ZW5kXFxcXHZpdGUuY29uZmlnLmpzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ltcG9ydF9tZXRhX3VybCA9IFwiZmlsZTovLy9EOi9KYW4yMDI2LVByb2plY3QvRnJlZWxhbmNlLU1hbmFnZW1lbnQtMi9GcmVlbGFuY2UtTWFuYWdlbWVudC0yL2Zyb250ZW5kL3ZpdGUuY29uZmlnLmpzXCI7aW1wb3J0IHRhaWx3aW5kY3NzIGZyb20gXCJAdGFpbHdpbmRjc3Mvdml0ZVwiO1xuaW1wb3J0IHJlYWN0IGZyb20gXCJAdml0ZWpzL3BsdWdpbi1yZWFjdFwiO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCB7IGZpbGVVUkxUb1BhdGggfSBmcm9tIFwidXJsXCI7XG5pbXBvcnQgeyBkZWZpbmVDb25maWcsIGxvYWRFbnYgfSBmcm9tIFwidml0ZVwiO1xuaW1wb3J0IHsgdml0ZVBsdWdpbk1hbnVzUnVudGltZSB9IGZyb20gXCJ2aXRlLXBsdWdpbi1tYW51cy1ydW50aW1lXCI7XG5jb25zdCBfX2Rpcm5hbWUgPSBwYXRoLmRpcm5hbWUoZmlsZVVSTFRvUGF0aChpbXBvcnQubWV0YS51cmwpKTtcbmNvbnN0IHBsdWdpbnMgPSBbcmVhY3QoKSwgdGFpbHdpbmRjc3MoKSwgdml0ZVBsdWdpbk1hbnVzUnVudGltZSgpXTtcbmNvbnN0IGNhY2hlRGlyID0gKCgpID0+IHtcbiAgICBjb25zdCBiYXNlID0gcHJvY2Vzcy5lbnYuTE9DQUxBUFBEQVRBIHx8IHByb2Nlc3MuZW52LlRFTVA7XG4gICAgaWYgKGJhc2UpIHtcbiAgICAgICAgcmV0dXJuIHBhdGgucmVzb2x2ZShiYXNlLCBcImZyZWVsYW5jZS1tYW5hZ2VtZW50LXZpdGUtY2FjaGVcIik7XG4gICAgfVxuICAgIHJldHVybiBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCBcInZpdGUtY2FjaGVcIik7XG59KSgpO1xuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29uZmlnKCh7IG1vZGUgfSkgPT4ge1xuICAgIGNvbnN0IGVudiA9IGxvYWRFbnYobW9kZSwgX19kaXJuYW1lLCBcIlwiKTtcbiAgICBjb25zdCBiYWNrZW5kRW52ID0gbG9hZEVudihtb2RlLCBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCBcIi4uXCIsIFwiYmFja2VuZFwiKSwgXCJcIik7XG4gICAgY29uc3QgYmFja2VuZFVybCA9IGJhY2tlbmRFbnYuQkFDS0VORF9VUkxcbiAgICAgICAgfHwgKGJhY2tlbmRFbnYuUE9SVCA/IGBodHRwOi8vbG9jYWxob3N0OiR7YmFja2VuZEVudi5QT1JUfWAgOiBcIlwiKTtcbiAgICBjb25zdCBub3JtYWxpemVBcGlUYXJnZXQgPSAodmFsdWUpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodmFsdWUpO1xuICAgICAgICAgICAgaWYgKHVybC5ob3N0bmFtZSA9PT0gXCJsb2NhbGhvc3RcIikge1xuICAgICAgICAgICAgICAgIHVybC5ob3N0bmFtZSA9IFwiMTI3LjAuMC4xXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdXJsLnRvU3RyaW5nKCkucmVwbGFjZSgvXFwvJC8sIFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgYXBpVGFyZ2V0ID0gbm9ybWFsaXplQXBpVGFyZ2V0KGVudi5WSVRFX0FQSV9VUkwgfHwgYmFja2VuZFVybCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiKTtcbiAgICBpZiAobW9kZSA9PT0gXCJkZXZlbG9wbWVudFwiKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbVml0ZV0gQVBJIHByb3h5IHRhcmdldDogJHthcGlUYXJnZXR9YCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHBsdWdpbnMsXG4gICAgICAgIGNhY2hlRGlyLFxuICAgICAgICBvcHRpbWl6ZURlcHM6IHtcbiAgICAgICAgICAgIGhvbGRVbnRpbENyYXdsRW5kOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgYWxpYXM6IHtcbiAgICAgICAgICAgICAgICBcIkBcIjogcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgXCJzcmNcIiksXG4gICAgICAgICAgICAgICAgXCJAc2hhcmVkXCI6IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsIFwiLi5cIiwgXCJiYWNrZW5kXCIsIFwic2hhcmVkXCIpLFxuICAgICAgICAgICAgICAgIFwiQGFzc2V0c1wiOiBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCBcInB1YmxpY1wiKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGVudkRpcjogcGF0aC5yZXNvbHZlKF9fZGlybmFtZSksXG4gICAgICAgIHJvb3Q6IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUpLFxuICAgICAgICBwdWJsaWNEaXI6IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsIFwicHVibGljXCIpLFxuICAgICAgICBidWlsZDoge1xuICAgICAgICAgICAgb3V0RGlyOiBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCBcImRpc3RcIiksXG4gICAgICAgICAgICBlbXB0eU91dERpcjogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgc2VydmVyOiB7XG4gICAgICAgICAgICBob3N0OiB0cnVlLFxuICAgICAgICAgICAgYWxsb3dlZEhvc3RzOiBbXG4gICAgICAgICAgICAgICAgXCIubWFudXNwcmUuY29tcHV0ZXJcIixcbiAgICAgICAgICAgICAgICBcIi5tYW51cy5jb21wdXRlclwiLFxuICAgICAgICAgICAgICAgIFwiLm1hbnVzLWFzaWEuY29tcHV0ZXJcIixcbiAgICAgICAgICAgICAgICBcIi5tYW51c2NvbXB1dGVyLmFpXCIsXG4gICAgICAgICAgICAgICAgXCIubWFudXN2bS5jb21wdXRlclwiLFxuICAgICAgICAgICAgICAgIFwibG9jYWxob3N0XCIsXG4gICAgICAgICAgICAgICAgXCIxMjcuMC4wLjFcIixcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBwcm94eToge1xuICAgICAgICAgICAgICAgIFwiL2FwaVwiOiB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogYXBpVGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VPcmlnaW46IHRydWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmczoge1xuICAgICAgICAgICAgICAgIHN0cmljdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhbGxvdzogW1xuICAgICAgICAgICAgICAgICAgICBwYXRoLnJlc29sdmUoX19kaXJuYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgXCIuLlwiLCBcImJhY2tlbmRcIiwgXCJzaGFyZWRcIiksXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlRGlyLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgZGVueTogW1wiKiovLmVudlwiLCBcIioqLy5lbnYuKlwiLCBcIioqLyoucGVtXCIsIFwiKiovKi5jcnRcIl0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH07XG59KTtcbiJdLAogICJtYXBwaW5ncyI6ICI7QUFBdVosT0FBTyxpQkFBaUI7QUFDL2EsT0FBTyxXQUFXO0FBQ2xCLE9BQU8sVUFBVTtBQUNqQixTQUFTLHFCQUFxQjtBQUM5QixTQUFTLGNBQWMsZUFBZTtBQUN0QyxTQUFTLDhCQUE4QjtBQUw0TixJQUFNLDJDQUEyQztBQU1wVCxJQUFNLFlBQVksS0FBSyxRQUFRLGNBQWMsd0NBQWUsQ0FBQztBQUM3RCxJQUFNLFVBQVUsQ0FBQyxNQUFNLEdBQUcsWUFBWSxHQUFHLHVCQUF1QixDQUFDO0FBQ2pFLElBQU0sWUFBWSxNQUFNO0FBQ3BCLFFBQU0sT0FBTyxRQUFRLElBQUksZ0JBQWdCLFFBQVEsSUFBSTtBQUNyRCxNQUFJLE1BQU07QUFDTixXQUFPLEtBQUssUUFBUSxNQUFNLGlDQUFpQztBQUFBLEVBQy9EO0FBQ0EsU0FBTyxLQUFLLFFBQVEsV0FBVyxZQUFZO0FBQy9DLEdBQUc7QUFDSCxJQUFPLHNCQUFRLGFBQWEsQ0FBQyxFQUFFLEtBQUssTUFBTTtBQUN0QyxRQUFNLE1BQU0sUUFBUSxNQUFNLFdBQVcsRUFBRTtBQUN2QyxRQUFNLGFBQWEsUUFBUSxNQUFNLEtBQUssUUFBUSxXQUFXLE1BQU0sU0FBUyxHQUFHLEVBQUU7QUFDN0UsUUFBTSxhQUFhLFdBQVcsZ0JBQ3RCLFdBQVcsT0FBTyxvQkFBb0IsV0FBVyxJQUFJLEtBQUs7QUFDbEUsUUFBTSxxQkFBcUIsQ0FBQyxVQUFVO0FBQ2xDLFFBQUk7QUFDQSxZQUFNLE1BQU0sSUFBSSxJQUFJLEtBQUs7QUFDekIsVUFBSSxJQUFJLGFBQWEsYUFBYTtBQUM5QixZQUFJLFdBQVc7QUFBQSxNQUNuQjtBQUNBLGFBQU8sSUFBSSxTQUFTLEVBQUUsUUFBUSxPQUFPLEVBQUU7QUFBQSxJQUMzQyxRQUNNO0FBQ0YsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQ0EsUUFBTSxZQUFZLG1CQUFtQixJQUFJLGdCQUFnQixjQUFjLHVCQUF1QjtBQUM5RixNQUFJLFNBQVMsZUFBZTtBQUN4QixZQUFRLElBQUksNEJBQTRCLFNBQVMsRUFBRTtBQUFBLEVBQ3ZEO0FBQ0EsU0FBTztBQUFBLElBQ0g7QUFBQSxJQUNBO0FBQUEsSUFDQSxjQUFjO0FBQUEsTUFDVixtQkFBbUI7QUFBQSxJQUN2QjtBQUFBLElBQ0EsU0FBUztBQUFBLE1BQ0wsT0FBTztBQUFBLFFBQ0gsS0FBSyxLQUFLLFFBQVEsV0FBVyxLQUFLO0FBQUEsUUFDbEMsV0FBVyxLQUFLLFFBQVEsV0FBVyxNQUFNLFdBQVcsUUFBUTtBQUFBLFFBQzVELFdBQVcsS0FBSyxRQUFRLFdBQVcsUUFBUTtBQUFBLE1BQy9DO0FBQUEsSUFDSjtBQUFBLElBQ0EsUUFBUSxLQUFLLFFBQVEsU0FBUztBQUFBLElBQzlCLE1BQU0sS0FBSyxRQUFRLFNBQVM7QUFBQSxJQUM1QixXQUFXLEtBQUssUUFBUSxXQUFXLFFBQVE7QUFBQSxJQUMzQyxPQUFPO0FBQUEsTUFDSCxRQUFRLEtBQUssUUFBUSxXQUFXLE1BQU07QUFBQSxNQUN0QyxhQUFhO0FBQUEsSUFDakI7QUFBQSxJQUNBLFFBQVE7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLGNBQWM7QUFBQSxRQUNWO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDSjtBQUFBLE1BQ0EsT0FBTztBQUFBLFFBQ0gsUUFBUTtBQUFBLFVBQ0osUUFBUTtBQUFBLFVBQ1IsY0FBYztBQUFBLFFBQ2xCO0FBQUEsTUFDSjtBQUFBLE1BQ0EsSUFBSTtBQUFBLFFBQ0EsUUFBUTtBQUFBLFFBQ1IsT0FBTztBQUFBLFVBQ0gsS0FBSyxRQUFRLFNBQVM7QUFBQSxVQUN0QixLQUFLLFFBQVEsV0FBVyxNQUFNLFdBQVcsUUFBUTtBQUFBLFVBQ2pEO0FBQUEsUUFDSjtBQUFBLFFBQ0EsTUFBTSxDQUFDLFdBQVcsYUFBYSxZQUFZLFVBQVU7QUFBQSxNQUN6RDtBQUFBLElBQ0o7QUFBQSxFQUNKO0FBQ0osQ0FBQzsiLAogICJuYW1lcyI6IFtdCn0K
